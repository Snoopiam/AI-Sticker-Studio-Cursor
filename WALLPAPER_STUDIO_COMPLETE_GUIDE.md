# ðŸ–¼ï¸ AI STICKER STUDIO - COMPLETE WALLPAPER STUDIO GUIDE

## The Ultimate Reference Manual for Creating Personalized Wallpapers

**Version**: 1.0  
**Last Updated**: October 17, 2025  
**Audience**: All Users (Beginner to Advanced)

---

## ðŸ“– TABLE OF CONTENTS

1. [Introduction](#1-introduction)
2. [Getting Started](#2-getting-started)
3. [Understanding the Interface](#3-understanding-the-interface)
4. [Character Library System](#4-character-library-system)
5. [Background Scene Creation](#5-background-scene-creation)
6. [Preset Browser - Complete Catalog](#6-preset-browser---complete-catalog)
7. [Smart Context Adaptation](#7-smart-context-adaptation)
8. [Advanced Composition Settings](#8-advanced-composition-settings)
9. [Generation Process Explained](#9-generation-process-explained)
10. [Advanced Features](#10-advanced-features)
11. [Troubleshooting & FAQs](#11-troubleshooting--faqs)
12. [Tips & Best Practices](#12-tips--best-practices)
13. [Technical Deep Dive](#13-technical-deep-dive)
14. [Appendix: Quick Reference](#14-appendix-quick-reference)

---

## 1. INTRODUCTION

### What is Wallpaper Studio?

Wallpaper Studio is a revolutionary AI-powered platform that creates stunning, personalized wallpapers by seamlessly integrating YOUR characters (created from photos or stickers) into breathtaking AI-generated scenes. Unlike simple photo editors, Wallpaper Studio understands lighting, perspective, and artistic style to create wallpapers that look professionally composed, not simply "pasted together."

### Key Features

- **ðŸŽ­ Character Integration**: Place yourself or your characters in any scene imaginable
- **ðŸŒŸ Smart Context Adaptation**: Advanced VFX compositor AI that re-lights and blends characters realistically
- **ðŸŽ¨ 25+ Curated Presets**: From cyberpunk cities to mythological scenes, divine beings to superheroes
- **ðŸ“± 10+ Device-Specific Sizes**: Optimized for phones, tablets, desktops, foldables, ultra-wide displays
- **ðŸŽ¬ Cinematic Quality**: Professional lighting, blending, and composition settings
- **ðŸ”„ Style Chameleon AI**: Intelligently adapts background style to match your character's artistic style
- **âš¡ Two Generation Modes**: Standard (fast, text-only) or Smart Context (advanced, multi-step compositing)
- **ðŸŽ¯ Character Library**: Reuse characters created in Sticker Studio across unlimited wallpapers

### Who Is This For?

- **Personal Use**: Create custom wallpapers featuring yourself in epic scenes
- **Character Creators**: Showcase your characters in various environments
- **Artists**: Explore character-environment integration across styles
- **Content Creators**: Generate unique backgrounds for streaming, videos, social media
- **Enthusiasts**: Fans of superheroes, mythology, cars, nature, sci-fi, fantasy

### Prerequisites

- **Credits**: 3 credits per wallpaper generation
- **Character Library**: At least one character (created from Sticker Studio or imported sticker)
- **OR**: Can generate wallpapers without characters (background only)
- **Scene Idea**: Description of background OR selection from 25+ presets

### Wallpaper Studio vs Photo Remix

**Wallpaper Studio:**
- Uses pre-created characters from your library
- Characters are  seamlessly composited into scenes
- 3 credits per wallpaper
- Best for: Character showcases, device backgrounds

**Photo Remix:**
- Uploads new photos each time
- Complex multi-step pipeline
- 5+ credits depending on complexity
- Best for: One-off photo transformations

**Key Difference**: Wallpaper Studio is optimized for REUSING characters you've already created, making it more efficient for creating multiple wallpapers of the same character in different scenes.

---


## 2. GETTING STARTED

### First Launch Experience

When you first open Wallpaper Studio, you'll see:

1. **The Control Panel** (left side): 3 main sections for wallpaper configuration
2. **The Preview Area** (right side): Where your wallpaper masterpieces appear
3. **The Header** (top): Credits display and quick navigation
4. **The Action Footer** (bottom): Inspire Me button and Generate Wallpaper button

### The 3-Section Workflow

Wallpaper Studio is simpler than Sticker Studio, with just 3 focused sections:

**Section 1: Select Characters**
Choose which characters from your library to include in the wallpaper (or generate without characters)

**Section 2: Background Scene**
Describe the scene or choose from 25+ curated presets

**Section 3: Advanced Composition**  
Fine-tune how characters are integrated (size, position, lighting, blending)

### Your First Wallpaper: Quick Start

#### **Option A: Character-Based Wallpaper** (Recommended First Experience)

**Prerequisites**: You must have at least 1 character in your library
- Create one in Sticker Studio first, OR
- Import a transparent sticker image

**Steps:**
1. In **Section 1**, click a character to select it (purple ring appears)
2. In **Section 2**, either:
   - Type a scene description, OR
   - Click "Preset Browser" and select a preset
3. Toggle **"Smart Context Adaptation" ON** (for best quality)
4. Leave Section 3 collapsed (defaults are good)
5. Click **"Generate Wallpaper"** at bottom

**Time**: 30-45 seconds (with Smart Context Adaptation)  
**Cost**: 3 credits  
**Result**: Professional wallpaper with your character seamlessly integrated!

---

#### **Option B: Background-Only Wallpaper** (No Characters)

**Steps:**
1. **Skip Section 1** (don't select any characters)
2. In **Section 2**, describe scene or select preset
3. Click **"Generate Wallpaper"**

**Time**: 10-15 seconds  
**Cost**: 3 credits  
**Result**: Beautiful background wallpaper (no character integration)

---

###  Understanding Credits

**Wallpaper Generation**: Fixed cost of **3 credits**

**Why 3 credits?**
- High-resolution output (up to 8K supported)
- Complex scene generation
- Character integration (if using Smart Context)
- Professional quality rendering

**Cost is same whether:**
- 0 characters or 5 characters
- Standard or Smart Context mode
- Phone size or 8K size
- Using preset or custom prompt

**Cost Efficiency:**
- Sticker: 1 credit = 1 sticker
- Wallpaper: 3 credits = 1 wallpaper (can include multiple characters!)
- Character Creation: 2 credits = permanent character for unlimited wallpapers

---

## 3. UNDERSTANDING THE INTERFACE

### The Control Panel Layout

Unlike Sticker Studio's 5 sections, Wallpaper Studio has a streamlined **3-section layout**:

#### **Section 1: Select Characters**

**Character Grid:**
- Shows all characters in your library
- 4-5 characters per row
- Each shows character image thumbnail
- Character name displayed at bottom

**Grid Item Actions:**
- **Click thumbnail**: Select/deselect character
- **Selected state**: Purple overlay + checkmark
- **Hover actions**:
  - ðŸ‘ï¸ (top-left): View character sheet
  - ðŸ” (bottom-right): View larger image

**Multi-Selection:**
- Click multiple characters
- All selected characters will be included in wallpaper
- No limit on character count (though 1-3 recommended for composition)

**Import Area** (below grid):
- "Import Character / Photo" dashed box
- Upload a photo â†’ Creates new character (2 credits)
- Upload transparent sticker â†’ Imports FREE
- Drag & drop from Collection also works

---

#### **Section 2: Background Scene**

**Custom Prompt Textarea:**
- Large text area for your scene description
- Supports multi-line descriptions
- The more detailed, the better!
- Placeholder provides example

**Smart Context Adaptation Toggle:**
- Switch ON/OFF
- **ON** (Recommended): Advanced multi-step pipeline
- **OFF**: Faster, simpler generation
- Help text explains what it does

**AI Prompt Assistant:**
- Enter a theme (e.g., "lonely astronaut")
- Click "Suggest" button  
- AI generates 3 scene ideas
- Click any suggestion to use it

**Recent Generations:**
- Horizontal scrolling gallery (if you've generated before)
- Quick access to recent wallpapers
- Pin to collection or download directly

**Preset Browser** (collapsible section):
- Search bar for filtering
- Category pills (13 categories)
- Scrollable list of presets
- Click preset name to select
- Refresh icon to get variations

---

#### **Section 3: Advanced Composition**

**Collapsed by default in Simple Mode**, this section contains:

**Top Row:**
- Size dropdown (10 options)
- Quality dropdown (3 levels)

**Middle Row:**
- Character Position (7 options)
- Lighting Style (4 options)
- Blending Mode (4 options)

**Character Size Slider:**
- Visual slider with emoji indicators
- Range: 10% to 100%
- Shows Small ðŸ§â€â™‚ï¸ / Medium ðŸ§ / Large ðŸ§â€â™‚ï¸

**Note:** This section is **optional** - defaults work great for most wallpapers!

---

### Preview Area States

#### **Idle State:**
- Pulsing purple AI Core animation
- Message: "Configure your wallpaper and click Generate!"

#### **Processing State:**
- Animated AI Core
- Dynamic loading messages:
  - "Generating your wallpaper..."
  - "Preparing characters for scene..." (if Smart Context)
  - "Segmenting character 1/2: John" (if Smart Context)
  - "Generating and compositing final scene..."

#### **Complete State:**
- Full-size wallpaper displayed
- Fits preview area while maintaining aspect ratio
- Hover reveals quick action buttons

---

### The Action Footer

#### **Left: "Inspire Me" Button**
Provides creative suggestions:
- Changes custom prompt to example scene
- Example: "A stunning wallpaper featuring a lonely astronaut floating in a colorful nebula"
- Use when stuck for ideas

#### **Right: "Generate Wallpaper" Button**
- Shows "Generate Wallpaper" when ready
- Shows "Working..." during generation
- Disabled when:
  - No prompt AND no preset selected
  - Currently generating
  - Insufficient credits (need 3)
- Hover shows helpful tooltip when disabled

---


## 4. CHARACTER LIBRARY SYSTEM

### What is the Character Library?

The Character Library is your personal collection of characters that can be reused across unlimited wallpapers. Think of it as your "cast of characters" ready to be placed in any scene you can imagine.

### How Characters are Created

####  **Method 1: From Sticker Studio** (Most Common)

After generating a sticker in Sticker Studio:
1. Click the **"+"** button on any generated sticker
2. Enter a character name
3. Character instantly saved to library
4. Now available in Wallpaper Studio!

**What Gets Saved:**
- The sticker image itself
- Complete Identity Lock data
- Biometric profile
- All facial analysis data
- Original photo (if image-to-image)
- Artistic style used
- Gender, age group, mood (AI-analyzed)

**Advantage:** Character already has Identity Lock! Can maintain consistency across wallpapers.

---

#### **Method 2: Upload New Photo**

Directly in Wallpaper Studio:
1. Click the "Import Character / Photo" area
2. Select a photo
3. System performs same calibration as Sticker Studio
4. Enter character name
5. Character saved to library

**Credit Cost:** 2 credits
- Includes photo analysis
- Facial structure detection
- Identity template creation
- Character profile generation

**This is DIFFERENT from Sticker Studio upload:**
- Sticker Studio upload: 1 credit (calibration only)
- Wallpaper Studio upload: 2 credits (calibration + character creation)

---

#### **Method 3: Import Transparent Sticker** â­ FREE!

Have a sticker with transparent background from another source?
1. Upload it to Import area
2. System detects transparency
3. Analyzes existing art style
4. Imports for **0 credits!**
5. Character ready to use

**Requirements:**
- Image must have transparent background
- Should show clear character/person
- Transparency detected automatically

**Advantage:** Free way to expand your character library!

---

### Managing Your Character Library

#### **Selecting Characters**

**Single Character:**
- Click once â†’ Purple ring + checkmark
- Perfect for solo character wallpapers

**Multiple Characters:**
- Click multiple characters
- All selected get purple rings
- Can select up to all characters (though 1-3 recommended)

**Deselecting:**
- Click selected character again
- Purple ring disappears

**No Characters:**
- Don't select any
- Generates background-only wallpaper

---

#### **Viewing Character Details**

**Character Sheet** (Click ðŸ‘ï¸ icon):
- Full character profile
- Original image
- Complete Identity Template (JSON)
- All biometric analysis data
- Character statistics
- Edit character name
- Delete character

**View Larger** (Click ðŸ” icon):
- Full-screen character image view
- See details clearly
- Useful for verifying character before wallpaper

**Character Name:**
- Displayed at bottom of thumbnail
- Auto-truncates if too long
- Can be edited in Character Sheet

---

#### **Character Sources**

Your library can contain characters from:
1. **Sticker Studio generations** (most common)
2. **Photo uploads directly in Wallpaper Studio**
3. **Imported transparent stickers**
4. **Drag & drop from Collection**

**Library Persistence:**
- Characters saved permanently in IndexedDB
- Survive browser refresh
- Available across sessions
- Only removed if you manually delete them

---

### Character Recommendations

#### **Optimal Character Count per Wallpaper:**

**1 Character** (Solo)
- Best for: Personal wallpapers, character focus
- Composition: Character prominent in scene
- Works with: All composition settings

**2 Characters** (Duo)
- Best for: Couples, partnerships, comparisons
- Composition: Characters positioned symmetrically or dynamically
- Works with: Most settings

**3 Characters** (Trio)
- Best for: Groups, teams, family
- Composition: Triangular or scattered positioning recommended
- Note: May require "Multiple" or "Scattered" position setting

**4+ Characters** (Crowd)
- Possible but challenging
- Composition becomes complex
- Recommend "Scattered" or "Multiple" positioning
- May sacrifice individual character prominence
- Better suited for group/team wallpapers

**0 Characters** (Background Only)
- Perfect for: Pure scenic wallpapers
- Faster generation (no character processing)
- Full focus on environment quality

---

## 5. BACKGROUND SCENE CREATION

### Custom Prompt Writing

The Custom Prompt is where your creativity shines. This is your description of the wallpaper scene.

#### **Anatomy of a Great Wallpaper Prompt:**

**Essential Elements:**
1. **Setting/Location**: Where is this scene?
2. **Time/Lighting**: What time of day? What's the lighting?
3. **Mood/Atmosphere**: What feeling should it evoke?
4. **Key Visual Details**: What makes it special?

#### **Example Breakdown:**

**Basic Prompt:** (Still works, but minimal)
```
A forest
```
Result: Generic forest, unpredictable quality

**Good Prompt:**
```
A mystical forest with ancient trees and glowing mushrooms
```
Result: Much better! Clear theme and visual elements.

**Excellent Prompt:** â­ RECOMMENDED
```
A mystical, ancient forest with massive, moss-covered trees. Ethereal sunbeams pierce through the dense canopy, illuminating particles of dust and pollen in the air. Bioluminescent mushrooms glow softly at the base of trees. A sense of magic, tranquility, and timeless nature.
```
Result: Stunning, detailed, atmospheric wallpaper!

---

#### **Prompt Writing Tips:**

**DO:**
- âœ… Be descriptive and specific
- âœ… Mention lighting (sunset, twilight, golden hour, neon lights)
- âœ… Include atmosphere (foggy, clear, stormy, serene)
- âœ… Describe colors and mood
- âœ… Reference specific visual styles (cinematic, anime-style, photorealistic)
- âœ… Include environmental details (rain, snow, mist, reflections)

**DON'T:**
- âŒ Mention the character explicitly (system handles this automatically)
- âŒ Say "with a person" or "featuring someone" (character integration is automatic)
- âŒ Be too vague ("nice background")
- âŒ Use conflicting descriptions ("dark and bright")

---

#### **Prompt Templates by Genre:**

**Nature/Landscape:**
```
A [time] at [location] with [weather]. [Key features]. [Mood/atmosphere]. [Additional details].

Example: A golden hour sunset at a mountain lake with perfectly still water. The mountains are reflected mirror-like in the lake. Warm orange and pink sky. A sense of peace and natural beauty. A few pine trees frame the scene.
```

**Urban/Cityscape:**
```
A [type] city at [time]. [Architecture details]. [Lighting/atmosphere]. [Activity/movement]. [Mood].

Example: A futuristic mega-city at night with towering skyscrapers covered in holographic advertisements. Neon lights in pink, blue, and cyan reflect off rain-slicked streets. Flying vehicles zip between buildings. A bustling, cyberpunk atmosphere with dramatic lighting.
```

**Fantasy/Magical:**
```
A [fantasy location] with [magical elements]. [Lighting]. [Atmosphere]. [Mood].

Example: A floating castle surrounded by clouds, with waterfalls cascading off the edges into the sky below. Magical aurora-like lights dance around the spires. Golden sunset light bathes the scene. A sense of wonder and impossibility.
```

**Sci-Fi/Space:**
```
[Location] in space with [celestial features]. [Colors]. [Scale/scope]. [Mood].

Example: A view from an alien planet's surface. Two suns hang in an alien sky filled with a massive colorful nebula. Strange crystal formations dot the landscape. Otherworldly and awe-inspiring. Vibrant purple, teal, and magenta color palette.
```

---

### AI Prompt Assistant Feature

Located in Section 2, this is your creative brainstorming partner.

#### **How to Use:**

1. **Enter a Theme**: Type a simple idea
   - Examples: "lonely astronaut", "samurai sunset", "underwater ruins"
2. **Click "Suggest"**: AI generates 3 detailed prompts
3. **Review Suggestions**: Each suggestion is a complete, detailed scene description
4. **Click to Use**: Clicking any suggestion fills the Custom Prompt field instantly

#### **What the AI Does:**

The AI (using `gemini-2.5-flash` model) acts as a **creative director** and:
- Expands your simple theme into 3 diverse, detailed prompts
- Ensures each prompt is descriptive and evocative
- Varies mood, time of day, composition
- Provides ready-to-use professional quality prompts

#### **Example:**

**You Enter:** `lonely astronaut`

**AI Generates:**
1. "A lone astronaut floating in the void of space, tethered to a small, damaged spacecraft. A massive, colorful nebula fills the background with swirling clouds of gas in purple, pink, and blue. The astronaut's visor reflects the cosmic beauty. A sense of isolation mixed with awe."

2. "An astronaut sitting alone on the surface of a barren, cratered moon. Earth hangs large and beautiful in the black sky above. The astronaut looks contemplative, helmet off, gazing at home. Soft blue Earth-light illuminates the lunar surface. A mood of longing and reflection."

3. "A lone astronaut exploring the ruins of an ancient alien civilization on a desert planet. Massive, crumbling stone structures tower overhead. Two suns create dramatic shadows. The astronaut appears tiny against the scale of the ruins. A sense of discovery and mystery."

#### **When to Use AI Assistant:**

- âœ… You have a vague idea but can't articulate it
- âœ… You're stuck creatively
- âœ… You want variations on a theme
- âœ… You need professional-quality prompt structure
- âŒ You already have a detailed custom prompt (unnecessary)

---

### Preset Browser

The Preset Browser contains **25+ professionally crafted scene prompts** across 13 categories.

#### **How to Access:**

1. In Section 2, find "Preset Browser" (initially collapsed)
2. Click to expand
3. Browse and select

#### **Preset Browser Features:**

**Search Bar:**
- Type keywords to filter
- Searches both preset name AND prompt text
- Example: Search "neon" finds all cyberpunk/neon-related presets

**Category Pills:**
- **â­ Recommended**: Shows presets recommended for your selected characters
  - Based on character's style, mood, and tags
  - Example: Chibi character â†’ might recommend fantasy/cute presets
  - Empty if no characters selected
- **Sci-Fi**: 2 presets
- **Gods**: 3 presets
- **Mythology**: 2 presets  
- **DC Heroes**: 3 presets
- **Marvel Heroes**: 1 preset
- **Cars**: 4 presets (Nissan Z focus)
- **Nature**: 3 presets
- **Space**: 2 presets
- **Fantasy**: 2 presets
- **Urban**: 2 presets
- **Abstract**: 4 presets
- **Vintage**: 2 presets
- **Seasonal**: 2 presets

**Preset List Items:**
- **Name**: Short, catchy title
- **Prompt Preview**: Truncated prompt text
- **Click Name**: Selects preset (fills Custom Prompt)
- **Refresh Icon**: Generates variation of preset

---

#### **The Refresh Feature:**

Each preset has a refresh icon (ðŸ”„) that:
1. Takes the existing preset prompt
2. Asks AI to create a creative variation
3. Keeps core theme but changes:
   - Mood
   - Lighting
   - Time of day
   - Composition
   - Specific details

**Example:**

**Original Preset:** "Cyberpunk Neon City"
```
A sprawling cyberpunk metropolis at night, towering skyscrapers covered in holographic billboards and neon signs in pink, blue, and purple. Flying cars streak through the air between buildings. Rain-slicked streets reflect the colorful lights. Detailed, cinematic, moody atmosphere.
```

**After Refresh** (AI-generated variation):
```
A cyberpunk city at dawn, as the neon lights begin to fade against the rising sun. Steam rises from street vents. The holographic billboards flicker. Empty streets show the aftermath of nighttime activity. A quieter, contemplative take on the same theme. Golden sunrise mixed with fading neon creates unique color palette.
```

**Use When:**
- âœ… You like a preset but want a twist
- âœ… You want same theme, different mood
- âœ… You've used a preset before and want variety

---


## 6. PRESET BROWSER - COMPLETE CATALOG

### How to Use Presets

Presets are **professionally written, ready-to-use prompts** that save you time and guarantee quality results.

**To Use a Preset:**
1. Expand "Preset Browser" in Section 2
2. Browse by category or search
3. Click preset name
4. Custom Prompt field auto-fills
5. Adjust if needed (or use as-is)
6. Generate!

**Preset Advantages:**
- âœ… Professionally written for optimal AI results
- âœ… Tested and proven to generate quality wallpapers
- âœ… Detailed enough for consistent results
- âœ… Categorized for easy browsing
- âœ… Can be refreshed for variations

---

### CATEGORY: Sci-Fi (2 Presets)

#### **Cyberpunk Neon City**
- **ID**: `cyberpunk-neon-city`
- **Mood**: Futuristic
- **Intensity**: Dramatic

**Full Prompt:**
```
A sprawling cyberpunk metropolis at night, towering skyscrapers covered in holographic billboards and neon signs in pink, blue, and purple. Flying cars streak through the air between buildings. Rain-slicked streets reflect the colorful lights. Detailed, cinematic, moody atmosphere.
```

**Best For:**
- Modern, tech-savvy aesthetic
- Night owls
- Blade Runner fans
- Purple/pink/blue color lovers

**Character Integration Tips:**
- Position: Center or Floating
- Lighting: Cinematic (enhances neon reflections)
- Your character will be lit by neon lights

---

#### **Deep Space Station**
- **ID**: `deep-space-station`
- **Mood**: Awe-inspiring
- **Intensity**: Serene

**Full Prompt:**
```
Inside a massive orbital space station with floor-to-ceiling windows showing Earth in the background. Zero-gravity environment with floating objects. Sleek metallic surfaces, holographic displays, and soft blue interior lighting. Futuristic, realistic, awe-inspiring.
```

**Best For:**
- Space enthusiasts
- Sci-fi fans
- Clean, modern aesthetic
- Desktop wallpapers (wide aspect ratio)

**Character Integration Tips:**
- Position: Floating (simulates zero-g)
- Smart Context Adaptation recommended
- Your character will appear weightless

---

### CATEGORY: Gods (3 Presets)

#### **Lord Shiva - Cosmic Dance**
- **ID**: `god_shiva_cosmic`
- **Mood**: Divine
- **Intensity**: Dramatic
- **HD Optimized**: Galaxy Fold 7, Galaxy Book, 4K Desktop

**Full Prompt:**
```
Lord Shiva in his cosmic Nataraja form, dancing within a ring of cosmic fire, multiple arms in perfect mudras, third eye glowing with divine light, sacred Ganga flowing from his hair, Himalayan mountain backdrop, ultra HD cinematic lighting, divine aura, blue skin with ash markings.
```

**Best For:**
- Hindu devotees
- Spiritual wallpapers
- Cultural/religious expression
- 4K displays

**Character Integration:**
- Can add yourself WITH Lord Shiva (devotional scene)
- Position: Bottom or Right (leave center for deity)
- Blending: Ethereal or Natural

---

#### **Lord Hanuman - Divine Strength**
- **ID**: `god_hanuman_strength`
- **Mood**: Powerful
- **Intensity**: Dramatic

**Full Prompt:**
```
Lord Hanuman in a powerful flying pose carrying the Sanjeevani mountain, muscular divine form, orange/red glowing skin, flowing hair, mace (gada) in hand, epic sunset sky with clouds, devotional expression, ultra HD rendering, divine energy emanating.
```

**Best For:**
- Strength and courage inspiration
- Hindu devotees
- Epic, powerful aesthetic
- Morning/motivational wallpapers

---

#### **Lord Vishnu - Cosmic Protector**
- **ID**: `god_vishnu_cosmic`
- **Mood**: Serene
- **Intensity**: Dramatic

**Full Prompt:**
```
Lord Vishnu resting on the cosmic serpent Shesha in the ocean of milk (Kshira Sagara), four arms holding conch shell (Panchajanya), discus (Sudarshana Chakra), mace (Kaumodaki) and lotus flower (Padma), magnificent crown and jewelry, serene blue skin, peaceful expression, cosmic background with stars and nebulae, ultra HD divine artwork.
```

**Best For:**
- Peace and serenity
- Hindu spiritual wallpapers
- Cosmic/space aesthetic combined with divinity
- Meditation/yoga space backgrounds

---

### CATEGORY: Mythology (2 Presets)

#### **Bhagavad Gita Teachings**
- **ID**: `myth_arjuna_krishna`
- **Lesson**: Dharma and Duty
- **Mood**: Profound
- **Intensity**: Spiritual

**Full Prompt:**
```
Lord Krishna counseling Arjuna on the battlefield of Kurukshetra, a divine discourse moment from the Bhagavad Gita, glowing Krishna with a peacock feather in his crown, Arjuna listening intently, magnificent war chariots in the background, golden divine light, capturing the profound teaching moment, ultra HD cinematic.
```

**Best For:**
- Spiritual seekers
- Philosophy enthusiasts
- Educational/inspirational wallpapers
- Cultural heritage celebration

---

#### **Devotion of Hanuman**
- **ID**: `myth_hanuman_devotion`
- **Lesson**: Pure Devotion
- **Mood**: Devotional
- **Intensity**: Emotional

**Full Prompt:**
```
Hanuman tearing open his chest to reveal Lord Ram and Sita residing in his heart, the ultimate depiction of devotion (Bhakti), glowing divine light emanating from within, a mountain forest background, an emotional expression of pure love and unwavering devotion, ultra HD spiritual art.
```

**Best For:**
- Deep spiritual connection
- Bhakti yoga practitioners
- Emotional/devotional expression
- Temple/meditation space wallpapers

---

### CATEGORY: DC Heroes (3 Presets)

#### **Batman - Gotham Guardian**
- **ID**: `dc_batman_gotham`
- **Character**: Batman
- **Mood**: Brooding
- **Intensity**: Dramatic

**Full Prompt:**
```
The Dark Knight Batman overlooking Gotham City at night from a high gargoyle, his cape flowing in the wind, sprawling city lights below, the Bat-signal illuminating the cloudy sky, noir cinematography, ultra HD dramatic lighting, iconic and brooding pose.
```

**Best For:**
- Batman fans
- Dark, noir aesthetic
- Night-themed wallpapers
- Desktop backgrounds (dramatic composition)

**Character Integration:**
- Your character can be WITH Batman (vigilante duo)
- Position: Left or Right (Batman takes center)
- Lighting: Cinematic for noir effect

---

#### **Wonder Woman - Themyscira**
- **ID**: `dc_wonder_woman_themyscira`
- **Character**: Wonder Woman
- **Mood**: Powerful
- **Intensity**: Majestic

**Full Prompt:**
```
Wonder Woman on the paradise island of Themyscira, surrounded by Greco-Roman architecture, waterfalls, and lush greenery. She stands in a powerful warrior princess pose with her golden Lasso of Truth and shield. A Mediterranean sunset paints the sky. Ultra HD fantasy landscape.
```

**Best For:**
- Wonder Woman fans
- Empowerment themes
- Beautiful landscape + character
- Phone wallpapers (vertical composition)

---

### CATEGORY: Marvel Heroes (1 Preset)

#### **Spider-Man - NYC Swing**
- **ID**: `marvel_spiderman_nyc`
- **Character**: Spider-Man
- **Mood**: Energetic
- **Intensity**: Action

**Full Prompt:**
```
Spider-Man swinging through the skyscrapers of New York City at sunset, web-slinging action in a dynamic pose, city lights and traffic visible far below, iconic red and blue suit, ultra HD action cinematography capturing the thrill of movement.
```

**Best For:**
- Spider-Man fans
- Action/energy aesthetic
- City lovers
- Desktop ultrawide (captures skyline)

---

### CATEGORY: Cars (4 Presets) ðŸš— FEATURED

All car presets feature the Nissan Z / 370Z in Bayside Blue.

#### **Nissan 370Z - Mountain King**
- **ID**: `car_nissan_z_370_mountain`
- **HD Optimized**: Fold 7 Unfolded, Galaxy Book 16"
- **Mood**: Adventurous
- **Intensity**: Cinematic

**Full Prompt:**
```
A stunning Nissan 370Z in iconic Bayside Blue metallic finish, positioned on a dramatic mountain switchback road during the golden hour. The lighting reflects beautifully off the glossy paint, highlighting the aggressive Z33 body lines. Sport wheels, mountain peaks in the background. Cinematic automotive photography, ultra HD for Fold 7.
```

**Best For:**
- Car enthusiasts
- JDM lovers
- Adventurous aesthetic
- Fold 7 / Tablet displays

---

#### **Nissan 370Z - Cyber Dynasty**
- **ID**: `car_nissan_z_370_cyberpunk`
- **HD Optimized**: Fold 7 Cover, 4K Desktop
- **Mood**: Futuristic
- **Intensity**: Dramatic

**Full Prompt:**
```
A Bayside Blue Nissan 370Z in a futuristic cyberpunk city at night. Neon lights and holographic advertisements reflect on the car's metallic paint and the rain-slicked streets. A Tokyo-inspired, Blade Runner aesthetic. Ultra HD for premium screens.
```

**Best For:**
- JDM + cyberpunk fusion
- Night aesthetic
- Neon light lovers
- 4K displays

---

#### **Nissan Z: Track Beast**
- **ID**: `car_nissan_z_track`
- **Mood**: Intense
- **Intensity**: Action

**Full Prompt:**
```
A Bayside Blue metallic Nissan Z Performance at the apex of a turn on a professional racing circuit. The bright daylight highlights the car's aerodynamic features. The background shows the blur of the track, tire barriers, and spectator stands. Focus is on the car, conveying a sense of speed and precision. Clean, sharp, high-action motorsport photography.
```

**Best For:**
- Racing fans
- High-energy aesthetic
- Action/speed themes
- Desktop wallpapers

---

#### **Nissan Z: Showroom King**
- **ID**: `car_nissan_z_garage`
- **Mood**: Sleek
- **Intensity**: Luxurious

**Full Prompt:**
```
A pristine Bayside Blue metallic Nissan Z Performance parked in a futuristic, minimalist showroom garage. The environment features dramatic overhead spotlights and polished concrete floors that reflect the car's perfect blue paint. The lighting is designed to accentuate every curve and detail of the Z's design. A sense of luxury and high-performance technology.
```

**Best For:**
- Luxury aesthetic
- Clean, minimal
- Desktop backgrounds
- Professional/sleek vibe

**Note:** Car wallpapers work great WITHOUT characters, or WITH character as "owner" standing beside/in front of car.

---

### CATEGORY: Nature (3 Presets)

#### **Bioluminescent Forest**
- **ID**: `bioluminescent-forest`
- **Mood**: Mystical
- **Intensity**: Enchanting

**Full Prompt:**
```
A magical forest at night where plants and mushrooms glow with bioluminescent blue and green light. Mist flowing between trees, fireflies dancing in the air. Mystical, enchanting, otherworldly atmosphere.
```

---

#### **Aurora Sky**
- **ID**: `aurora-sky`
- **Mood**: Majestic
- **Intensity**: Breathtaking

**Full Prompt:**
```
Northern lights (aurora borealis) dancing across a star-filled sky in vibrant green, purple, and blue. Snow-covered landscape below with silhouetted pine trees. Cold, majestic, breathtaking natural phenomenon.
```

---

#### **Mystical Forest / Mountain Peak / Aurora** 
(3 total nature presets with similar quality and detail)

---

### CATEGORY: Space (2 Presets)

#### **Galaxy Dreams**
- **ID**: `space_galaxy_dreams`
- **Mood**: Cosmic
- **Intensity**: Awe-inspiring

**Full Prompt:**
```
Floating in deep space, surrounded by a vibrant, swirling nebula of turquoise, magenta, and gold. Countless stars and distant galaxies are visible in the background. Awe-inspiring and cosmic.
```

#### **Alien Planet**
- **ID**: `space_alien_planet`
- **Mood**: Alien
- **Intensity**: Fantastical

**Full Prompt:**
```
A bizarre and beautiful alien planet landscape. Two suns hang in the sky over a terrain of crystal formations and bioluminescent flora. The colors are otherworldly and fantastical.
```

---

### CATEGORY: Fantasy (2 Presets)

#### **Floating Castle**
- **ID**: `fantasy_magic_castle`
- **Mood**: Whimsical
- **Intensity**: Epic

**Full Prompt:**
```
A magnificent, grand magic castle with towering spires, floating on a cloud island in the sky. Waterfalls cascade from the edges of the island into the sky below. A whimsical and epic fantasy setting.
```

#### **Dragon's Lair**
- **ID**: `fantasy_dragon_lair`
- **Mood**: Dangerous
- **Intensity**: Epic

**Full Prompt:**
```
A colossal, cavernous dragon's lair, filled with mountains of shimmering gold coins, jewels, and ancient artifacts. A faint glow emanates from molten rock in the cavern walls. Epic, dangerous, and awe-inspiring.
```

---

### CATEGORY: Urban (2 Presets)

#### **Cyberpunk Cityscape**
(Similar to Sci-Fi category but urban-focused)

#### **Tokyo Crossing**
- **ID**: `urban_tokyo_crossing`
- **Mood**: Energetic
- **Intensity**: Bustling

**Full Prompt:**
```
A bustling, iconic street crossing in Tokyo at night, like Shibuya. The scene is a blur of motion, with crowds of people and vibrant neon signs in Japanese. A sense of high energy and modern city life.
```

---

### CATEGORY: Abstract (4 Presets)

#### **Geometric Dreamscape**
- **ID**: `geometric-dreamscape`
- **Mood**: Dreamlike
- **Intensity**: Minimalist

**Full Prompt:**
```
An abstract scene of floating geometric shapes (cubes, spheres, pyramids) in a pastel gradient space. Soft pink, lavender, and mint green colors. Dreamy atmosphere with subtle light rays. Minimalist, modern, ethereal.
```

---

#### **Liquid Metal Flow**
- **ID**: `liquid-metal-flow`
- **Mood**: Dynamic
- **Intensity**: High-contrast

**Full Prompt:**
```
Abstract liquid metal flowing and morphing in space. Chrome and silver reflections with iridescent rainbow highlights. Smooth, fluid motion captured in a still moment. High contrast, reflective, dynamic composition.
```

---

#### **Geometric Dreams & Synthwave Grid**
(2 additional abstract presets with modern/retro aesthetics)

---

### CATEGORY: Vintage (2 Presets)

#### **1920s Art Deco**
- **ID**: `art-deco-1920s`
- **Mood**: Luxurious
- **Intensity**: Glamorous

**Full Prompt:**
```
An elegant Art Deco ballroom from the 1920s with geometric patterns in gold and black. Ornate chandeliers, marble columns, and symmetrical designs. Luxurious, glamorous, vintage aesthetic with warm golden lighting.
```

**Best For:**
- Vintage lovers
- Gatsby-era aesthetic
- Elegant, sophisticated wallpapers

---

#### **Retro 80s Arcade**
- **ID**: `retro-80s-arcade`
- **Mood**: Nostalgic
- **Intensity**: Vibrant

**Full Prompt:**
```
A classic 1980s arcade filled with neon-lit game cabinets. Pink and cyan grid floors, palm tree silhouettes, chrome accents. Vaporwave aesthetic with VHS grain effect. Nostalgic, vibrant, retro-futuristic.
```

**Best For:**
- 80s nostalgia
- Vaporwave fans
- Retro gamers
- Pink/cyan color schemes

---

### CATEGORY: Seasonal (2 Presets)

#### **Winter Wonderland**
- **ID**: `seasonal_winter_wonderland`
- **Mood**: Peaceful
- **Intensity**: Serene

**Full Prompt:**
```
A peaceful, snow-covered forest after a fresh snowfall. The branches of the trees are heavy with snow, and the world is quiet and serene. A cozy cabin with a glowing window is visible in the distance.
```

**Best For:**
- Winter months
- Peaceful, calm aesthetic
- Cozy vibes

---

#### **Autumn Forest**
- **ID**: `seasonal_autumn_forest`
- **Mood**: Warm
- **Intensity**: Vibrant

**Full Prompt:**
```
A vibrant autumn forest with a path covered in fallen leaves of red, orange, and yellow. The afternoon sun filters through the colorful canopy, creating a warm and golden glow.
```

**Best For:**
- Fall season
- Warm color palette lovers
- Nature enthusiasts

---

### Preset Selection Strategy

#### **By Device Type:**

**Phone Wallpapers** (9:16):
- Nature presets (vertical forests, mountains)
- Seasonal presets
- Single character focus works well

**Desktop Wallpapers** (16:9):
- Urban cityscapes
- Space scenes
- Car presets (horizontal action)
- Multiple characters work well

**Ultrawide Displays** (21:9):
- Deep Space Station
- Cyberpunk cities
- Mountain ranges
- Epic battle scenes

**Foldable Devices:**
- Use "HD Optimized" presets
- Nissan Z presets optimized for Fold 7
- God presets optimized for Galaxy Book

---

#### **By Mood:**

**Energetic/Action:**
- Spider-Man NYC Swing
- Nissan Z Track
- Tokyo Crossing
- Cyberpunk Neon City

**Peaceful/Serene:**
- Winter Wonderland
- Aurora Sky
- Deep Space Station
- Lord Vishnu

**Powerful/Epic:**
- Lord Shiva
- Lord Hanuman
- Dragon's Lair
- Batman Gotham

**Mystical/Magical:**
- Bioluminescent Forest
- Floating Castle
- Galaxy Dreams

---


## 7. SMART CONTEXT ADAPTATION

### What is Smart Context Adaptation?

Smart Context Adaptation is the **flagship advanced feature** of Wallpaper Studio. It transforms wallpaper generation from simple image merging into professional-grade VFX compositing.

**Without Smart Context:**
- Characters and background generated separately
- Simple overlay/blend
- Characters may look "pasted on"
- Lighting may not match
- Faster but less realistic

**With Smart Context:** â­ RECOMMENDED
- Multi-step VFX pipeline
- Characters segmented and analyzed
- Background generated with character awareness
- Characters re-lit to match scene lighting
- Realistic shadows added
- Color grading unified
- Result: Seamless,  photorealistic integration

---

### How Smart Context Adaptation Works

#### **The Technical Pipeline:**

When you enable Smart Context and select characters:

**Step 1: Character Preparation**
```
For each selected character:
1. Retrieves character image from cache
2. Removes background (segmentation)
3. Creates clean cutout with alpha channel
4. Analyzes character's style, pose, appearance
```

**Step 2: Background Generation with Context**
```
1. AI receives:
   - Your scene description
   - Character cutouts (already segmented)
   - Character metadata (names, styles)

2. AI acts as "Lead VFX Compositor" (expert persona)

3. AI generates background scene that:
   - Has appropriate space for characters
   - Establishes clear lighting direction
   - Creates depth and perspective
   - Considers character styles
```

**Step 3: Intelligent Compositing**
```
1. AI analyzes background lighting:
   - Direction (where light comes from)
   - Color temperature (warm/cool)
   - Intensity (bright/dim)

2. AI re-lights each character:
   - Matches background lighting direction
   - Adjusts color temperature
   - Adds appropriate highlights/shadows

3. AI generates realistic shadows:
   - Characters cast shadows on background
   - Shadow direction matches light source
   - Shadow intensity matches scene

4. AI applies unified color grading:
   - Characters don't look "warmer" or "cooler" than environment
   - Seamless color palette
   - Professional compositing quality

5. AI refines edges:
   - Eliminates harsh cutout artifacts
   - Soft, natural blending
   - No "pasted on" appearance
```

**Step 4: Final Assembly**
```
1. All elements composited into single image
2. Final quality pass
3. Rendered at specified resolution
4. Delivered as complete wallpaper
```

---

### Standard Mode vs Smart Context Mode

#### **Standard Mode** (Default OFF)

**How It Works:**
- Uses `imagen-4.0-generate-001` model
- Single API call
- Characters described in text prompt
- AI imagines characters in scene
- Fast and simple

**Advantages:**
- âœ… Faster (10-15 seconds)
- âœ… Simpler pipeline
- âœ… Good for background-only wallpapers
- âœ… Works well without characters

**Disadvantages:**
- âš ï¸ Characters may not match your library characters exactly
- âš ï¸ Lighting may not be realistic
- âš ï¸ No shadow generation
- âš ï¸ Character integration is AI's interpretation, not VFX compositing

**Best For:**
- Background-only wallpapers (no characters)
- Quick iterations
- When character accuracy is less important

---

#### **Smart Context Mode** (Toggle ON) â­ RECOMMENDED

**How It Works:**
- Uses `gemini-2.5-flash-image-preview` model
- Multi-step pipeline (3-5 API calls depending on character count)
- Characters provided as images (not descriptions)
- VFX Compositor AI persona
- Professional photorealistic compositing

**Advantages:**
- âœ… Your exact characters appear in wallpaper
- âœ… Realistic lighting match
- âœ… Natural shadows generated
- âœ… Unified color grading
- âœ… Professional VFX quality
- âœ… Seamless integration (no "pasted on" look)

**Disadvantages:**
- âš ï¸ Slower (30-45 seconds)
- âš ï¸ More complex pipeline
- âš ï¸ Requires characters with clear images

**Best For:**
- Wallpapers with 1-3 characters
- When you want YOUR characters to appear exactly
- Professional quality results
- Showcase wallpapers

---

### When to Use Each Mode

#### **Use Standard Mode If:**
1. Generating **background-only** wallpaper (no characters)
2. You want **speed** over perfect character integration
3. Testing ideas quickly
4. Scene is more important than character accuracy

#### **Use Smart Context Mode If:**
1. Including **1 or more characters**
2. You want **professional VFX quality**
3. Characters should look realistically present in scene
4. Creating showcase/portfolio wallpapers
5. Lighting and shadows matter

---

### Smart Context Adaptation: Deep Dive

#### **The VFX Compositor Persona**

When Smart Context is enabled, the AI receives this expert role:

```
You are a Lead VFX Compositor from a world-class film studio, renowned for your mastery of photorealistic integration, light, and shadow. You specialize in seamlessly blending real-world elements with AI-generated environments.
```

**Key Skills Activated:**
- Photorealistic integration
- Light & color matching
- Shadow generation
- Edge blending
- Color grading
- Perspective consistency

**Primary Directive:**
```
Create a seamless, photorealistic composite where the characters look naturally and physically present in the scene. The final image must be indistinguishable from a photograph taken in that environment.
```

---

#### **Character Segmentation Process**

For each character:
1. Original character image retrieved
2. Background removal AI called
3. Perfect cutout with clean alpha channel
4. Cutout cached for compositing

**Progress Messages:**
- "Preparing characters for scene..."
- "Segmenting character 1/2: Alice"
- "Segmenting character 2/2: Bob"

**Time:** ~5 seconds per character

---

#### **Lighting Analysis & Matching**

The VFX AI analyzes:

**Background Lighting:**
- Light source direction (front, back, side, top)
- Color temperature (warm sunset vs cool twilight)
- Intensity (bright daylight vs dim cave)
- Atmospheric effects (fog, haze, particles)

**Character Re-Lighting:**
- Adds highlights matching light direction
- Adjusts shadows on character's face/body
- Matches color temperature (warm/cool)
- Simulates environmental reflections

**Example:**
- Scene: Sunset beach (warm orange light from left)
- Character: Originally photographed in indoor white light
- Result: Character re-lit with warm orange glow from left, as if actually at beach

---

#### **Shadow Generation**

Smart Context generates **realistic cast shadows:**

**Shadow Characteristics:**
- Direction matches scene's light source
- Intensity matches ambient light
- Soft or hard edges based on light type
- Appropriate darkness/transparency
- Anchors character to environment

**Example:**
- Outdoor daytime scene â†’ Sharp, dark shadows
- Indoor soft-lit scene â†’ Soft, subtle shadows
- Magical glowing scene â†’ Colored light-influenced shadows

---

#### **Color Grading Unification**

**The Problem:** Characters and backgrounds often have different color palettes, making composition look fake.

**The Solution:** Smart Context applies unified color grading:

1. Analyzes background color palette
2. Analyzes character color palette
3. Finds harmonious middle ground OR
4. Adjusts character colors to match environment

**Result:**
- No "warmer" or "cooler" mismatch
- Unified aesthetic
- Professional film-quality color coherence

---

#### **Edge Blending**

**The Challenge:** Cut-out characters have harsh edges that scream "Photoshop!"

**Smart Context Solution:**
- Analyzes cutout edges
- Softens harsh transitions
- Adds environmental effects (light scatter, atmospheric haze)
- Matches edge softness to scene depth
- Creates natural integration

---

### Smart Context: Cost-Benefit Analysis

#### **Cost:**
- Same 3 credits as Standard mode
- Takes 20-30 seconds longer
- Uses more API calls internally

#### **Benefits:**
- Professional VFX quality
- Characters look realistically present
- Realistic lighting and shadows
- Unified color palette
- No "pasted on" appearance
- Showcase-quality wallpapers

#### **Recommendation:**
**Always use Smart Context when:**
- Including characters
- Quality matters
- Creating wallpapers to share/showcase
- Want professional results

**Use Standard when:**
- Background-only wallpapers
- Quick iterations
- Testing scene ideas

---


## 8. ADVANCED COMPOSITION SETTINGS

### Overview

Section 3 "Advanced Composition" contains professional controls for fine-tuning how your wallpaper is composed. **These are optional** - defaults work great for most wallpapers!

**When to Use Advanced Settings:**
- You have specific composition vision
- Default positioning doesn't work for your scene
- You're creating professional/portfolio wallpapers
- You understand photography/composition principles

**When to Skip:**
- First wallpaper
- Happy with defaults
- Experimenting/iterating quickly

---

### Wallpaper Size Options (10 Choices)

#### **Standard Aspect Ratios:**

**Phone (9:16)** â­ MOST POPULAR
- Vertical orientation
- Perfect for: Modern smartphones
- Resolution: Adaptive (typically 1080x1920 or higher)
- Best for: Portrait-oriented scenes, character focus

**Desktop (16:9)**
- Horizontal widescreen
- Perfect for: Laptops, monitors
- Resolution: Adaptive (typically 1920x1080 to 3840x2160)
- Best for: Landscape scenes, cityscapes

**Tablet (4:3)**
- Classic tablet ratio
- Perfect for: iPads, Android tablets
- Resolution: Adaptive
- Best for: Balanced compositions

**Square (1:1)**
- Perfect square
- Perfect for: Social media, Instagram
- Resolution: Typically 2048x2048
- Best for: Centered character, symmetrical scenes

**Ultrawide (21:9)**
- Extra wide
- Perfect for: Gaming monitors, ultra-wide displays
- Resolution: Typically 3440x1440
- Best for: Epic panoramic scenes, multiple characters

---

#### **Device-Specific Resolutions:**

**Galaxy Fold 7 Unfolded** (6:5 ratio)
- 2176x1812 pixels
- Unique square-ish format
- Best for: Galaxy Fold users
- Optimized presets: Nissan Z Mountain, Lord Shiva

**Galaxy Fold 7 Cover** (22:10 ratio)
- 968x2176 pixels
- Tall, narrow format
- Best for: Fold cover screen
- Optimized presets: Nissan Z Cyberpunk

**Galaxy Book 5 Pro 16"** (16:10 ratio)
- 2880x1800 pixels
- Laptop aspect ratio
- Best for: Samsung Galaxy Book users
- Optimized presets: Nissan Z Mountain, Lord Shiva

**4K Ultra HD** (16:9)
- 3840x2160 pixels
- True 4K resolution
- Best for: 4K displays, archival quality
- Optimized presets: Nissan Z Cyberpunk, Lord Shiva

**8K Ready** (16:9)
- 7680x4320 pixels
- Ultra-high resolution
- Best for: Future-proofing, printing, 8K displays
- **Warning**: Very large files, longer generation time

---

### Quality Levels (3 Options)

**Standard** (Default)
- Balanced quality and speed
- Good for: Most uses
- Resolution: Native to selected size
- Generation time: Normal

**Premium** â­ RECOMMENDED
- Enhanced detail and clarity
- Good for: Showcase wallpapers
- Resolution: Higher quality processing
- Generation time: Slightly longer

**Ultra**
- Maximum quality
- Good for: Professional use, printing, archival
- Resolution: Highest quality processing
- Generation time: Longest
- **Best paired with 4K or 8K sizes**

**Note:** Quality affects rendering quality, not just resolution. Premium/Ultra use more sophisticated AI processing.

---

### Character Position (7 Options)

Determines WHERE characters appear in the scene.

**Center** (Default)
- Characters in center of frame
- Balanced composition
- Best for: Single character, focus on character
- Works with: All scenes

**Left**
- Characters on left side
- Scene emphasis on right
- Best for: Horizontal wallpapers, asymmetric composition
- Example use: Character looking at scene on right

**Right**
- Characters on right side
- Scene emphasis on left
- Best for: Horizontal wallpapers, rule of thirds
- Example use: Character observing scene on left

**Bottom**
- Characters at bottom of frame
- Scene above/behind
- Best for: Vertical wallpapers, epic backgrounds
- Example use: Character looking up at sky/building

**Multiple**
- Characters distributed across frame
- Smart spacing between them
- Best for: 2-3 characters
- Composition: AI arranges optimally

**Floating**
- Characters appear weightless/suspended
- Useful for space, underwater, magical scenes
- Best for: Zero-gravity, flying, swimming scenes
- Example: Deep Space Station preset

**Scattered**
- Characters randomly positioned
- Casual, dynamic layout
- Best for: 3+ characters, group photos
- Creates: Energetic, playful composition

---

### Character Size (Slider: 10% - 100%)

Determines how PROMINENT characters are in scene.

**10-30%: Small Characters**
- Scene dominates
- Characters are accents
- Best for: Epic landscapes, focus on environment
- Example: Tiny character on mountain peak

**40-60%: Medium Characters** â­ DEFAULT (50%)
- Balanced prominence
- Both character and scene visible
- Best for: Most wallpapers
- Example: Character and environment equally important

**70-90%: Large Characters**
- Character dominates
- Scene is backdrop
- Best for: Character showcase, portrait wallpapers
- Example: Close-up character with blurred background

**95-100%: Maximum Characters**
- Character fills most of frame
- Minimal background visible
- Best for: Character portraits with atmospheric background
- Example: Character headshot with scene behind

**Slider Indicators:**
- ðŸ§â€â™‚ï¸ Small (left side)
- ðŸ§ Medium (center)
- ðŸ§â€â™‚ï¸ Large (right side)

---

### Lighting Style (4 Options)

Determines how characters are lit in final composition.

**Match Background** (Default) â­ RECOMMENDED
- Characters lit identically to background
- Most realistic option
- Best for: Photorealistic integration
- Result: Characters look naturally present in scene

**Enhance Character**
- Characters slightly brighter than background
- Draws focus to character
- Best for: Character showcase wallpapers
- Result: Character "pops" while still looking integrated

**Cinematic**
- Dramatic, high-contrast lighting
- Adds rim lighting, dramatic shadows
- Best for: Epic, movie-poster aesthetic
- Result: Hollywood blockbuster quality

**Studio**
- Even, professional studio lighting on character
- Background maintains its own lighting
- Best for: Professional headshots in scenes
- Result: Polished, professional look

---

### Blending Mode (4 Options)

Determines HOW characters blend with background.

**Natural** (Default) â­ RECOMMENDED
- Photorealistic, seamless blending
- Characters look physically present
- Best for: Most wallpapers
- Result: "This is a real photo" aesthetic

**Artistic**
- Emphasizes artistic elements
- Slightly stylized blending
- Best for: Cartoon/anime characters in painted backgrounds
- Result: Cohesive artistic interpretation

**Dramatic**
- High contrast, bold integration
- Stronger shadows and highlights
- Best for: Action scenes, epic moments
- Result: Movie poster intensity

**Ethereal**
- Soft, dreamy blending
- Gentle edges, atmospheric
- Best for: Magical, fantasy, spiritual scenes
- Result: Dreamlike, otherworldly integration

---

### Background Intensity (Hidden/Auto)

**Note:** This setting exists in the codebase but is currently not exposed in the UI. It's auto-calculated based on other settings.

**What it would control:**
- How "busy" or "simple" the background is
- Whether background is detailed or minimal
- Character vs scene emphasis

**Current behavior:**
- Auto-set to 80% (balanced)
- Can be manually adjusted in wallpaperSettings state if needed

---


## 9. GENERATION PROCESS EXPLAINED

### The Complete Wallpaper Generation Workflow

#### **Phase 1: Pre-Flight Validation**

When you click "Generate Wallpaper":

1. **Prompt Check:**
   - Is custom prompt filled OR preset selected?
   - If neither: Error - "Please enter a prompt or select a preset"

2. **Credit Check:**
   - Do you have 3 credits?
   - If not: Error - "Insufficient credits. Needs 3."

3. **Loading State Check:**
   - Is another generation already running?
   - If yes: Button disabled (prevents concurrent generations)

4. **Confirmation Dialog:**
   - Title: "Confirm Wallpaper Generation"
   - Message: "This will generate a new wallpaper. This action cannot be undone."
   - Cost: 3 credits
   - Buttons: Cancel / Confirm

---

#### **Phase 2: Initialization & Credit Deduction**

After clicking "Confirm":

1. **Immediate Actions:**
   ```
   - Credits deducted: -3
   - isLoading set to true
   - Loading message: "Generating your wallpaper..."
   - Activity log: "Wallpaper generation started"
   - Credit log: "Wallpaper cost: -3 credits"
   ```

2. **Character Retrieval:**
   ```
   - Selected character IDs mapped to character objects
   - Character images retrieved from IndexedDB cache
   - If any character image not found: Error + refund
   ```

3. **Mode Decision:**
   ```
   IF Smart Context is ON AND characters selected:
      â†’ Execute Advanced Pipeline
   ELSE:
      â†’ Execute Standard Pipeline
   ```

---

#### **Phase 3A: Standard Generation Pipeline**

**Used When:**
- Smart Context is OFF, OR
- No characters selected

**Process:**
1. **Prompt Construction:**
   ```
   - Base prompt: Your custom prompt or preset
   - If characters: Adds character descriptions to prompt
   - Adds composition settings
   - Adds "Style Chameleon" persona
   - Adds style integration rules
   ```

2. **Single API Call:**
   ```
   Model: imagen-4.0-generate-001
   Input: Complete text prompt
   Config: Aspect ratio, output format
   Output: Single wallpaper image
   ```

3. **Processing:**
   ```
   Loading message: "Generating wallpaper..."
   Time: 10-15 seconds
   ```

4. **Result:**
   ```
   - Image received as base64
   - Converted to data URL
   - Result object created with metadata
   ```

---

#### **Phase 3B: Smart Context Adaptation Pipeline** â­ ADVANCED

**Used When:**
- Smart Context is ON AND
- At least 1 character selected

**Multi-Step Process:**

**Step 1: Character Segmentation**
```
For each selected character:
  1. Loading: "Preparing characters for scene..."
  2. Loading: "Segmenting character 1/3: Alice"
  3. API call: segmentImage(characterImage)
  4. Result: Clean cutout with transparent background
  5. Cutout stored in array
  6. Delay 500ms (API pacing)
  7. Repeat for next character
  
Time per character: ~5 seconds
Total for 3 characters: ~15 seconds
```

**Step 2: Character Image Parts Creation**
```
- All character cutouts converted to API Parts
- Parts array prepared for multi-image API call
```

**Step 3: VFX Compositor Prompt Construction**
```
Character descriptions built:
  - Name
  - Gender (from character profile)
  - Age group
  
Final prompt assembled with:
  - VFX Compositor expert persona
  - Mission statement
  - Character list
  - Scene description (your custom prompt)
  - Composition specifications (size, position, quality)
  - Lighting & blending settings
  - Critical constraints (lighting match, shadows, color grade)
```

**Step 4: Unified Scene Generation**
```
Loading: "Generating and compositing final scene..."

API Call:
  Model: gemini-2.5-flash-image-preview
  Input: Character image parts + VFX prompt
  Process: AI receives actual character images
  Output: Seamlessly composited wallpaper

Time: 10-15 seconds
```

**Step 5: Result Assembly**
```
- Image received
- Converted to data URL
- Special prompt format stored:
  "ADAPTED WALLPAPER:
   Background: [your scene description]
   Characters: Alice, Bob, Charlie"
```

**Total Time**: 30-45 seconds (depending on character count)

---

#### **Phase 4: Success Handling**

On successful generation:

1. **State Updates:**
   ```
   - GENERATION_COMPLETE dispatched
   - Result added to collection
   - Result added to recent generations
   - Loading state cleared
   ```

2. **Metadata Stored:**
   ```
   - Timestamp
   - Credit cost: 3
   - Generation time (ms)
   - Model used (imagen or gemini-image-preview)
   - All wallpaper settings
   - Character IDs
   - Success: true
   ```

3. **User Feedback:**
   ```
   - Activity log: "Wallpaper generated successfully!"
   - Wallpaper appears in preview area
   - Quick actions available
   ```

---

#### **Phase 5: Error Handling**

If ANY step fails:

1. **Immediate Actions:**
   ```
   - Catch block triggered
   - Error message extracted
   - User-friendly message prepared
   ```

2. **Credit Refund:**
   ```
   - Full 3 credits refunded
   - Refund logged: "Failed wallpaper generation refund"
   - Credit log: "Refunded 3 credits"
   ```

3. **Error Reporting:**
   ```
   - Error message displayed to user
   - Activity log: "Wallpaper generation failed"
   - Failure result saved to collection (for debugging)
   ```

4. **Failure Metadata:**
   ```
   - Timestamp
   - Credit cost: 3 (refunded)
   - Generation time
   - Success: false
   - Error message stored
   - All settings preserved
   ```

**Common Error Messages:**

**"Failed to process character: 'Alice'. Please try removing them or using a different image."**
- Cause: Character's image couldn't be retrieved from cache
- Solution: Remove that character or re-create them

**"Wallpaper generation failed."**
- Generic error
- Check activity log for details
- Usually network or API issue
- Credits automatically refunded

**"Please enter a prompt or select a preset to generate a wallpaper."**
- Pre-flight check failure
- Solution: Fill custom prompt OR select a preset

---

### Generation Time Breakdown

**Background-Only (Standard Mode):**
- Pre-flight: <1 second
- Generation: 10-15 seconds
- Total: ~15 seconds

**1 Character (Smart Context):**
- Pre-flight: <1 second
- Segmentation: ~5 seconds
- Compositing: ~10-15 seconds
- Total: ~20-25 seconds

**2 Characters (Smart Context):**
- Pre-flight: <1 second
- Segmentation: ~10 seconds (5s each)
- Compositing: ~10-15 seconds
- Total: ~25-30 seconds

**3 Characters (Smart Context):**
- Pre-flight: <1 second
- Segmentation: ~15 seconds (5s each)
- Compositing: ~15-20 seconds
- Total: ~35-40 seconds

**4+ Characters (Smart Context):**
- Add ~5 seconds per additional character
- Compositing becomes more complex
- Total: 45+ seconds

---

## 10. ADVANCED FEATURES

### Recent Generations Gallery

**What It Is:**
Horizontal scrolling gallery showing your most recent wallpaper generations.

**Location:** Appears in Section 2 (after you've generated at least 1 wallpaper)

**Features:**
- Shows thumbnail of each recent wallpaper
- Scrolls horizontally
- Quick actions on hover:
  - ðŸ“Œ Pin to Collection
  - â¬‡ï¸ Download directly

**Purpose:**
- Quick access to recent work
- Rapid iteration (download previous versions)
- Compare recent attempts

**Note:** This is separate from the main Collection - it's a quick-access feature.

---

### Character Transfer from Sticker Studio

**The Workflow:**

When you create a character in Sticker Studio:
1. Click "+" button on generated sticker
2. System asks: "Create character OR Create wallpaper?"
3. If you choose "Create wallpaper":
   - Character created AND
   - You're switched to Wallpaper Studio AND
   - Character auto-selected AND
   - Custom prompt auto-filled with suggested scene

**Auto-Generated Prompt Format:**
```
A wallpaper featuring [Character Name], in a style matching '[Character Style]', with a mood of '[Character Mood]'.
```

**Example:**
- Character: "Superhero Sam"
- Style: "3D Render"
- Mood: "Confident"

Auto-prompt:
```
A wallpaper featuring Superhero Sam, in a style matching '3D Render', with a mood of 'Confident'.
```

**You Can:**
- Use this prompt as-is OR
- Edit it OR
- Replace with preset OR
- Write completely new prompt

**Advantage:** Instant workflow from sticker â†’ wallpaper!

---

### Drag & Drop from Collection

**Collection to Character Library:**
1. Open Collection modal
2. Find a sticker with Identity Lock
3. Drag to Wallpaper Studio's "Import" area
4. Character auto-created (if not already in library)
5. Character auto-selected

**Collection to Scene:**
1. Drag a previous wallpaper from Collection
2. Drop anywhere in Wallpaper Studio
3. Settings from that wallpaper loaded
4. You can modify and re-generate

**Benefits:**
- Rapid workflow
- Reuse successful configurations
- Build on previous work
- No manual re-configuration

---

### Preset Variations (Refresh Feature)

Each preset can be refreshed for creative variations:

**How It Works:**
1. Click refresh icon (ðŸ”„) next to any preset
2. AI analyzes original preset
3. AI generates variation keeping:
   - Core theme
   - Subject matter
4. AI changes:
   - Time of day
   - Mood
   - Lighting
   - Specific details
   - Composition angle

**Example Transformations:**

**Original:** "Cyberpunk City at Night"
**Variation:** "Cyberpunk City at Dawn (neon fading, sunrise)"

**Original:** "Mountain Peak at Sunrise"
**Variation:** "Mountain Peak at Sunset (different colors, mood)"

**Original:** "Space Station with Earth View"
**Variation:** "Space Station with Mars View"

**Uses:**
- Get fresh takes on favorite themes
- Avoid repetitive wallpapers
- Discover new creative directions

---


## 11. TROUBLESHOOTING & FAQs

### Common Issues & Solutions

#### **Problem: "Please enter a prompt or select a preset to generate a wallpaper"**

**Cause:** Both custom prompt field is empty AND no preset is selected

**Solutions:**
1. Type a scene description in Custom Prompt, OR
2. Select any preset from Preset Browser

**Note:** You need at least ONE of these - can't generate with both empty.

---

#### **Problem: No characters in library / "No characters in your library yet"**

**Cause:** You haven't created any characters yet

**Solutions:**

**Option 1: Create from Sticker Studio**
1. Switch to Sticker Studio tab
2. Generate a sticker (any expression)
3. Click "+" button on generated sticker
4. Name your character
5. Return to Wallpaper Studio

**Option 2: Upload Photo in Wallpaper Studio**
1. Click "Import Character / Photo" area
2. Upload photo (costs 2 credits)
3. Character automatically created

**Option 3: Import Transparent Sticker**
1. Have a sticker PNG with transparent background
2. Upload to "Import" area
3. FREE character creation!

---

#### **Problem: "Failed to process character: '[Name]'. Please try removing them or using a different image."**

**Cause:** Character's image couldn't be retrieved from cache

**Possible Reasons:**
- Image cache expired (browser storage limits)
- Character data corrupted
- Browser data was cleared

**Solutions:**

**Solution 1: Remove Problem Character**
- Deselect the character mentioned in error
- Generate with other characters

**Solution 2: Re-Create Character**
- Delete problematic character from library
- Re-create from original photo or sticker
- Costs 2 credits but ensures fresh data

**Solution 3: Use Different Character**
- Select different character instead
- Problem character may have corrupted cache

---

#### **Problem: Smart Context Adaptation takes too long**

**Expected Times:**
- 1 character: ~25 seconds
- 2 characters: ~30 seconds
- 3 characters: ~40 seconds
- 4+ characters: ~50+ seconds

**If taking MUCH longer (> 2 minutes):**
- Check internet connection
- Check activity log for error messages
- Network issue may be causing timeouts
- Refresh page and try again (credits will be refunded if failed)

---

#### **Problem: Characters look "pasted on" / Don't match lighting**

**Cause:** Smart Context Adaptation is OFF

**Solution:**
1. Go to Section 2
2. Find "Smart Context Adaptation" toggle
3. Turn it ON (purple when active)
4. Re-generate wallpaper

**If Smart Context is already ON:**
- Try "Cinematic" lighting style
- Try "Dramatic" blending mode
- Ensure character images are high quality
- Some scenes naturally difficult (extreme lighting contrasts)

---

#### **Problem: Generated wallpaper doesn't include my characters**

**Possible Causes:**

**Cause 1: Characters weren't selected**
- Check Section 1 - do selected characters have purple rings?
- Solution: Click characters to select them

**Cause 2: Smart Context is OFF**
- Without Smart Context, characters are only described in text
- AI may interpret differently
- Solution: Turn Smart Context ON

**Cause 3: Scene prompt overrides characters**
- Very specific scene prompts may cause AI to focus on scene
- Solution: Make prompt more general, let AI integrate characters

---

#### **Problem: Wallpaper is wrong aspect ratio / doesn't fit my device**

**Cause:** Wrong size selected in Section 3

**Solution:**
1. Expand Section 3 "Advanced Composition"
2. Find "Size" dropdown (first option)
3. Select correct size for your device:
   - Phone â†’ "Phone (9:16)"
   - Desktop â†’ "Desktop (16:9)"
   - Tablet â†’ "Tablet (4:3)"
   - Fold â†’ "Galaxy Fold 7 Unfolded/Cover"
   - Etc.
4. Re-generate

**Tip:** Most devices support multiple aspect ratios. Try a few to see what looks best!

---

### Frequently Asked Questions

**Q: Can I generate wallpapers without any characters?**
A: Absolutely! Just don't select any characters in Section 1. You'll get beautiful background-only wallpapers.

**Q: How many characters can I include in one wallpaper?**
A: Technically unlimited, but 1-3 recommended for best composition. Beyond 3, characters become crowded and lose prominence.

**Q: Why does Smart Context Adaptation cost the same as Standard mode?**
A: Wallpaper generation is a fixed 3 credits regardless of mode or character count. Smart Context is a free upgrade in quality!

**Q: Can I use the same character in multiple wallpapers?**
A: Yes! That's the whole point of the Character Library. Create character once, use unlimited times. Very cost-efficient.

**Q: What's the difference between importing a sticker vs creating a character?**
A: Importing transparent sticker is FREE and immediate. Creating from photo costs 2 credits but includes full facial analysis and Identity Lock.

**Q: Can I edit presets before generating?**
A: Yes! After selecting a preset, the Custom Prompt field is filled. Edit it however you like, then generate.

**Q: Why is "Recommended" category empty?**
A: It only shows presets when you have characters selected. The system analyzes your character's style/mood and suggests matching presets. Select a character to see recommendations.

**Q: Can I save my custom prompts?**
A: Not directly, but generated wallpapers save the exact prompt used. View in Collection â†’ "Copy All Data" to export all your prompts.

**Q: What happens if I close browser during generation?**
A: Generation will fail. Credits will be refunded automatically when you return (the state persistence system handles this).

**Q: Can I use wallpapers commercially?**
A: Depends on Google Gemini API license and rights to character images. Review API terms for commercial use.

**Q: Why are car presets Nissan Z only?**
A: Current preset library is Nissan Z focused. You can create custom prompts for any car! Example: "A red Ferrari 488 GTB on a coastal highway at sunset..."

**Q: Can I request more presets to be added?**
A: This is a static list in the codebase. You can add custom presets by editing constants/wallpaperPresets.ts file.

---

## 12. TIPS & BEST PRACTICES

### Character Selection Strategy

#### **Single Character Wallpapers** â­ RECOMMENDED FOR FIRST WALLPAPER

**Advantages:**
- Simpler composition
- Character gets full prominence
- Faster generation
- Easier to get right

**Best Presets for Solo Characters:**
- Deep Space Station (character as astronaut)
- Any car preset (character as owner/driver)
- Nature presets (character in environment)
- Urban presets (character in city)

**Composition Tips:**
- Character Size: 50-70% (balanced to prominent)
- Position: Center (classic) or Left/Right (dynamic)
- Lighting: Match Background (most natural)

---

#### **Dual Character Wallpapers**

**Best Pairings:**
- Couples (romantic scenes)
- Friends (adventure scenes)
- Contrasts (hero vs villain aesthetic)

**Composition Tips:**
- Position: Multiple (AI distributes them well)
- Character Size: 40-50% (balanced with scene)
- Leave space between characters

**Best Presets for Duos:**
- Mountain scenes (characters hiking together)
- City scenes (characters exploring)
- Fantasy scenes (adventuring party)

---

#### **Group Wallpapers (3+ Characters)**

**Challenge:** More characters = harder composition

**Tips:**
- Position: Scattered or Multiple
- Character Size: 30-40% (prevent crowding)
- Choose simple backgrounds (complex backgrounds + many characters = chaos)
- Smart Context strongly recommended

**Best Presets:**
- Open landscapes (Mountain Peak, Aurora)
- Simple backgrounds (Geometric Dreamscape)
- Spacious scenes (Deep Space Station)

---

### Prompt Writing Mastery

#### **The Layered Approach:**

**Layer 1: Core Scene** (Required)
```
A cyberpunk city at night
```

**Layer 2: Visual Details** (Recommended)
```
A cyberpunk city at night with towering skyscrapers covered in holographic advertisements
```

**Layer 3: Atmosphere & Mood** (Professional)
```
A cyberpunk city at night with towering skyscrapers covered in holographic advertisements and neon signs. Rain-slicked streets reflect the colorful lights creating a moody, cinematic atmosphere.
```

**Layer 4: Specific Elements** (Master Level)
```
A cyberpunk city at night with towering skyscrapers covered in holographic advertisements and neon signs in pink, blue, and purple. Flying vehicles streak between buildings. Rain-slicked streets create mirror-like reflections of the neon lights. A sense of scale, energy, and futuristic noir. Cinematic composition with depth.
```

**Each layer improves quality!**

---

#### **Power Words for Wallpaper Prompts:**

**Lighting Terms:**
- Golden hour, twilight, dawn, dusk
- Dramatic lighting, soft lighting, rim lighting
- Backlit, front-lit, side-lit
- Neon glow, bioluminescent, radiant

**Atmosphere Terms:**
- Misty, foggy, hazy, clear
- Stormy, serene, tranquil, chaotic
- Ethereal, otherworldly, dreamlike

**Quality Terms:**
- Cinematic, ultra HD, photorealistic
- Detailed, intricate, crisp
- Professional photography, award-winning

**Composition Terms:**
- Depth of field, bokeh, focus
- Wide-angle, panoramic, close-up
- Symmetrical, asymmetrical, rule of thirds

**Mood Terms:**
- Moody, vibrant, peaceful, energetic
- Mysterious, awe-inspiring, intimate
- Epic, grand, minimalist

---

### Preset Customization Workflow

**Don't just use presets as-is!** Customize them:

**Method 1: Hybrid Approach**
1. Select preset you like 75%
2. Edit the Custom Prompt field
3. Add/remove details
4. Example: Take "Cyberpunk City" and add "with rain and lightning"

**Method 2: Preset Stacking**
1. Select preset A
2. Copy its prompt
3. Select preset B
4. Combine elements from both
5. Create unique hybrid scene

**Method 3: Character-Specific Adaptation**
1. Select preset
2. Add character-specific elements to prompt
3. Example: "...and a wise wizard character stands on the castle balcony"

---

### Smart Context Adaptation: When to Toggle

#### **ALWAYS Use Smart Context When:**
- âœ… Including 1+ characters
- âœ… Characters must look realistic in scene
- âœ… Creating showcase/portfolio wallpapers
- âœ… Character's style differs from scene style
- âœ… You have 20+ extra seconds to spare

#### **Consider Standard Mode When:**
- âš ï¸ Generating background-only wallpaper
- âš ï¸ Need speed (quick iterations)
- âš ï¸ Characters are just mentioned in prompt (not selected)
- âš ï¸ Testing scene ideas rapidly

#### **Result Comparison:**

**Standard Mode Output:**
- Scene: Cyberpunk city
- Character: Described in prompt as "person"
- Result: AI imagines a generic person in scene
- Quality: Good scene, but not YOUR character

**Smart Context Output:**
- Scene: Cyberpunk city
- Character: Your exact character image provided to AI
- Result: YOUR character, perfectly lit by neon lights, with realistic shadows
- Quality: Professional VFX composite

---

### Device-Specific Optimization

#### **For Phones:**
- Size: Phone (9:16)
- Quality: Premium
- Character Position: Center or Bottom
- Character Size: 50-60%
- Best Presets: Vertical-oriented (nature, fantasy)

#### **For Desktops:**
- Size: Desktop (16:9) or 4K Ultra HD
- Quality: Premium or Ultra
- Character Position: Left, Right, or Multiple
- Character Size: 40-50%
- Best Presets: Cityscapes, cars, space, horizontal vistas

#### **For Tablets:**
- Size: Tablet (4:3)
- Quality: Premium
- Character Position: Center
- Character Size: 45-55%
- Best Presets: Balanced compositions

#### **For Ultrawide:**
- Size: Ultrawide (21:9)
- Quality: Ultra
- Character Position: Multiple or Scattered (use width!)
- Character Size: 30-40%
- Best Presets: Panoramic scenes, cityscapes

#### **For Foldables:**
- Size: Use device-specific presets
- Quality: Premium or Ultra
- Use HD-optimized presets
- Test both folded/unfolded sizes

---

### Creating Series/Collections

**Concept:** Create wallpaper series with consistent themes.

**Example: "My Character's Adventures" Series:**
1. **Monday:** Character in cyberpunk city
2. **Tuesday:** Character in mystical forest
3. **Wednesday:** Character in deep space
4. **Thursday:** Character on alien planet
5. **Friday:** Character at beach sunset

**Use same character + same settings, different scenes!**

**Benefits:**
- Consistent visual identity
- Thematic coherence
- Fun to rotate wallpapers
- Showcase character versatility

---

### Composition Rules

Based on photography principles:

**Rule of Thirds:**
- Position characters at 1/3 or 2/3 points
- Use "Left" or "Right" positioning
- Creates dynamic, professional composition

**Negative Space:**
- Don't fill entire frame with character
- Leave space for scene to breathe
- Character Size 40-60% often ideal

**Visual Weight:**
- Bright characters need darker backgrounds
- Dark characters need brighter backgrounds
- Balance is key

**Horizon Line:**
- For landscapes, keep horizon in upper or lower third
- Don't cut frame exactly in half
- Creates more interesting composition

---

## 13. TECHNICAL DEEP DIVE

### Architecture Overview

Wallpaper Studio uses the same React `useReducer` architecture as Sticker Studio, but with wallpaper-specific state slice.

#### **Wallpaper Settings State:**

```typescript
interface WallpaperSettings {
  selectedCharacterIds: string[];      // Which characters to include
  customPrompt: string;                // User's scene description
  selectedPresetId: string | null;    // Currently selected preset
  size: WallpaperSize;                 // Output dimensions
  characterPosition: string;           // Where characters appear
  characterSize: number;               // 10-100 (prominence %)
  backgroundIntensity: number;         // How detailed background is
  blendingMode: BlendingMode;          // How characters blend
  lightingStyle: LightingStyle;        // How characters are lit
  qualityLevel: QualityLevel;          // Rendering quality
  useSmartContextAdaptation: boolean;  // Advanced pipeline toggle
}
```

---

### Generation Pipeline Architecture

#### **Standard Mode Pipeline:**

```
User clicks Generate
  â†“
Pre-flight checks pass
  â†“
Confirmation accepted
  â†“
Credits deducted (-3)
  â†“
Character data retrieved
  â†“
Prompt constructed with "Style Chameleon" persona
  â†“
Single API call to imagen-4.0-generate-001
  â†“
Image received (base64)
  â†“
Result stored with metadata
  â†“
Success displayed
```

**Total API Calls:** 1
**Models Used:** imagen-4.0-generate-001
**Time:** ~10-15 seconds

---

#### **Smart Context Adaptation Pipeline:**

```
User clicks Generate
  â†“
Pre-flight checks pass
  â†“
Confirmation accepted
  â†“
Credits deducted (-3)
  â†“
Characters retrieved from library
  â†“
FOR EACH character:
  â”œâ”€ Retrieve image from cache
  â”œâ”€ Call segmentImage() API
  â”œâ”€ Clean cutout created
  â”œâ”€ 500ms delay (API pacing)
  â””â”€ Next character
  â†“
Character image parts created
  â†“
VFX Compositor prompt constructed with:
  - Expert persona
  - Character descriptions
  - Scene description
  - Composition specs
  - Critical constraints
  â†“
Single API call to gemini-2.5-flash-image-preview
  (But with multiple image parts + text)
  â†“
Unified composite image received
  â†“
Result stored with metadata
  â†“
Success displayed
```

**Total API Calls:** 1 + N (where N = character count)
- 1 character: 2 calls total
- 2 characters: 3 calls total
- 3 characters: 4 calls total

**Models Used:**
- `gemini-2.5-flash-image-preview` (segmentation + compositing)

**Time:** ~25-45 seconds (depends on character count)

---

### The VFX Compositor Prompt

When Smart Context is enabled, this is the actual prompt sent to the AI:

```
You are a Lead VFX Compositor from a world-class film studio, renowned for your mastery of photorealistic integration, light, and shadow. You specialize in seamlessly blending real-world elements with AI-generated environments.

**MISSION:**
You have been provided with character cutouts that need to be integrated into a new wallpaper scene. Your job is to create a seamless, photorealistic composite where these characters look naturally and physically present in the new environment.

**CHARACTERS TO INTEGRATE:**
[List of character names, genders, age groups]

**SCENE DESCRIPTION:**
[Your custom prompt]

**COMPOSITION SPECIFICATIONS:**
- Wallpaper Size: [Selected size name] ([aspect ratio])
- Character Position: [Selected position]
- Character Size: [Percentage]% of scene height
- Quality Level: [Standard/Premium/Ultra]
- Blending Mode: [Natural/Artistic/Dramatic/Ethereal]
- Lighting Style: [Match Background/Enhance/Cinematic/Studio]

**UNBREAKABLE CONSTRAINTS:**
- PRIMARY DIRECTIVE: Create a seamless, photorealistic composite where the characters look naturally present in the scene
- Lighting & Shadow: Match the lighting direction, color, and intensity between characters and background
- Color Grading: Apply unified color grade so characters don't look "pasted on"
- Perspective & Scale: Position characters consistently with the scene's perspective
- Edge Blending: Eliminate any harsh cutout edges to create natural integration

**OUTPUT:**
Generate a single, high-resolution composite wallpaper image that seamlessly integrates all provided character cutouts into the described scene.
```

**This is why Smart Context produces VFX-quality results!**

---

### Style Chameleon System

When using Standard mode (or Smart Context mode), the AI uses "Style Chameleon" persona:

**Concept:** AI adapts to blend different artistic styles

**Example Scenario:**
- Your character: Cartoon Vector style (from Sticker Studio)
- Your scene: Photorealistic mountain landscape

**What Style Chameleon Does:**
1. Analyzes character's art style (Cartoon Vector)
2. Analyzes scene requirement (Photorealistic)
3. Creates harmonious blend:
   - Option A: Makes background slightly cartoonish
   - Option B: Keeps character cartoon, adds subtle realism
   - Option C: Stylizes both to meet in middle

**Result:** Cohesive image, not jarring style clash

**This is automatic** - you don't control it, but it's always working!

---

### API Models Explained

#### **imagen-4.0-generate-001** (Standard Mode)

**What It Does:**
- Text-to-image generation
- Highest quality scene creation
- Optimized for wallpaper quality

**Strengths:**
- Stunning background scenes
- Perfect for backgrounds without characters
- Fast and efficient

**Limitations:**
- Cannot process input images
- Characters must be described in text
- No real character integration

---

#### **gemini-2.5-flash-image-preview** (Smart Context)

**What It Does:**
- Multi-modal: Images + Text input
- Image editing and compositing
- VFX-quality blending

**Strengths:**
- Can see and manipulate actual images
- Realistic character integration
- Professional compositing

**Limitations:**
- Slower than imagen
- Requires well-segmented inputs

---

### Performance Optimizations

#### **Bulk Image Loading:**
Uses `useBulkCachedImages` hook:
- Loads all character images in parallel
- Shows skeleton loaders while loading
- Prevents sequential loading lag
- Caches results for instant re-renders

#### **Character Grid Memoization:**
- Character list memoized
- Only re-renders when library changes
- Prevents unnecessary re-loads

#### **Preset Filtering:**
- Filter logic memoized
- Search is instant
- Category switching is smooth
- No lag with 25+ presets

---


## 14. APPENDIX: QUICK REFERENCE

### Cost Summary

- **Wallpaper Generation**: 3 credits (fixed)
- **Character Creation from Photo**: 2 credits
- **Character Import from Sticker**: FREE (0 credits)
- **No additional costs for:**
  - Multiple characters in one wallpaper
  - Smart Context Adaptation
  - Any size/quality selection
  - Preset usage

### Default Settings (Recommended for Beginners)

```
Section 1: Select Characters
  - Characters: 1 character selected

Section 2: Background Scene
  - Source: Select any preset OR write simple prompt
  - Smart Context: ON

Section 3: Advanced Composition
  - Size: Phone (9:16) or Desktop (16:9)
  - Quality: Premium
  - Character Position: Center
  - Character Size: 50%
  - Lighting Style: Match Background
  - Blending Mode: Natural
```

---

### Quick Preset Recommendations

#### **For First-Time Users:**
1. **Mystical Forest** (Beautiful, works with any character)
2. **Aurora Sky** (Stunning, simple)
3. **Cyberpunk Neon City** (Popular, dramatic)

#### **For Phone Wallpapers:**
1. Winter Wonderland
2. Mountain Peak
3. Bioluminescent Forest

#### **For Desktop Wallpapers:**
1. Cyberpunk Neon City
2. Deep Space Station
3. Nissan Z Track

#### **For Spiritual/Cultural:**
1. Lord Shiva - Cosmic Dance
2. Lord Vishnu - Cosmic Protector
3. Bhagavad Gita Teachings

#### **For Car Enthusiasts:**
1. Nissan Z: Track Beast
2. Nissan Z: Mountain King
3. Nissan Z: Cyber Dynasty

---

### Wallpaper Sizes Quick Guide

| Device | Recommended Size | Aspect Ratio |
|--------|-----------------|--------------|
| iPhone, Android Phone | Phone (9:16) | 9:16 |
| Windows Laptop | Desktop (16:9) | 16:9 |
| MacBook | Desktop (16:9) | 16:9 |
| iPad, Android Tablet | Tablet (4:3) | 4:3 |
| Gaming Monitor | Desktop (16:9) or Ultrawide (21:9) | Various |
| 4K Display | 4K Ultra HD | 16:9 |
| Galaxy Fold 7 | Galaxy Fold 7 Unfolded/Cover | 6:5 or 22:10 |
| Ultra-Wide Monitor | Ultrawide (21:9) | 21:9 |

---

### Keyboard Shortcuts

- **Ctrl+V**: Paste image to import character
- **Escape**: Close any open modal
- **Ctrl+Z**: Undo (global app undo)
- **Ctrl+Shift+Z**: Redo (global app redo)

---

### Workflow Checklist

#### **Character-Based Wallpaper (Standard Workflow):**
- [ ] Have at least 1 character in library
- [ ] Select character(s) in Section 1
- [ ] Write scene description OR select preset
- [ ] Toggle Smart Context ON
- [ ] Review/adjust Section 3 if needed
- [ ] Click "Generate Wallpaper"
- [ ] Wait ~30-40 seconds
- [ ] Download result

#### **Background-Only Wallpaper:**
- [ ] Don't select any characters
- [ ] Write detailed scene description OR select preset
- [ ] Smart Context can be OFF
- [ ] Adjust size in Section 3 for your device
- [ ] Click "Generate Wallpaper"
- [ ] Wait ~10-15 seconds
- [ ] Download result

#### **Multiple Character Wallpaper:**
- [ ] Select 2-3 characters
- [ ] Choose simple background preset
- [ ] Smart Context ON
- [ ] Character Position: Multiple or Scattered
- [ ] Character Size: 40-50%
- [ ] Generate
- [ ] Review positioning
- [ ] Adjust and re-generate if needed

---

### Comparison: Wallpaper vs Other Studios

| Feature | Sticker Studio | Wallpaper Studio | Photo Remix |
|---------|---------------|------------------|-------------|
| **Primary Purpose** | Create stickers of yourself | Showcase characters in scenes | Transform photos into new scenes |
| **Input** | Your photo OR text | Characters from library | New photo upload |
| **Output** | PNG/MP4 stickers | High-res wallpapers | Composited photos |
| **Characters** | Creates new | Uses existing | Processes per photo |
| **Reusability** | 1 calibration â†’ âˆž stickers | 1 character â†’ âˆž wallpapers | Per-photo processing |
| **Cost** | 1 credit/sticker | 3 credits/wallpaper | 5+ credits/remix |
| **Generation Time** | 5-10s per sticker | 10-45s per wallpaper | 30-60s per remix |
| **Best For** | Messaging stickers | Device backgrounds | One-off photo transformations |

---

## CONCLUSION

Congratulations! You now have complete mastery of Wallpaper Studio. This comprehensive guide covered:

âœ… Complete Character Library system (creation, management, import)
âœ… Background Scene creation (custom prompts + 25+ presets)
âœ… All 13 preset categories detailed
âœ… Smart Context Adaptation (complete technical breakdown)
âœ… All 10 wallpaper sizes (including device-specific)
âœ… Advanced Composition settings (7 positions, 4 lighting styles, 4 blending modes)
âœ… Complete generation pipeline (Standard vs Smart Context)
âœ… Character transfer workflow
âœ… Professional tips and strategies
âœ… Troubleshooting and FAQs
âœ… Technical architecture
âœ… Quick reference materials

---

### Your Wallpaper Journey

**Beginner Path:**
1. Create 1-2 characters in Sticker Studio
2. Return to Wallpaper Studio
3. Select 1 character
4. Choose a preset you like
5. Turn Smart Context ON
6. Generate!

**Intermediate Path:**
1. Build character library (3-5 characters)
2. Experiment with custom prompts
3. Try different composition settings
4. Create themed wallpaper series
5. Optimize for your specific device

**Advanced Path:**
1. Master custom prompt writing
2. Create character-specific scenes
3. Use preset refresh for variations
4. Understand lighting and composition
5. Create professional portfolio wallpapers
6. Experiment with all advanced settings

---

### Final Tips

**Remember:**
- Smart Context Adaptation is your best friend for character wallpapers
- Character Library is reusable - create once, use forever
- Presets are starting points - customize them!
- Quality photo = quality character = quality wallpaper
- 3 credits gets you unlimited characters in one wallpaper
- Experiment with composition settings
- Save your best wallpapers to collection

**The Magic Formula:**
```
Great Character + Detailed Scene + Smart Context ON = Professional Wallpaper
```

---

## APPENDIX B: Preset Categories At-A-Glance

| Category | Count | Themes | Best For |
|----------|-------|--------|----------|
| **Sci-Fi** | 2 | Cyberpunk cities, space stations | Tech lovers, futuristic aesthetic |
| **Gods** | 3 | Shiva, Hanuman, Vishnu | Hindu devotees, spiritual wallpapers |
| **Mythology** | 2 | Bhagavad Gita, Hanuman's devotion | Cultural, educational, spiritual |
| **DC Heroes** | 3 | Batman, Wonder Woman | DC fans, superhero aesthetic |
| **Marvel Heroes** | 1 | Spider-Man | Marvel fans, action aesthetic |
| **Cars** | 4 | Nissan Z/370Z variants | Car enthusiasts, JDM lovers |
| **Nature** | 3 | Forests, mountains, aurora | Nature lovers, peaceful vibes |
| **Space** | 2 | Nebulae, alien planets | Space enthusiasts, cosmic themes |
| **Fantasy** | 2 | Castles, dragon lairs | Fantasy fans, magical themes |
| **Urban** | 2 | Cities, Tokyo crossing | City lovers, modern aesthetic |
| **Abstract** | 4 | Geometric, liquid metal, synthwave | Modern art, minimalist |
| **Vintage** | 2 | Art Deco, 80s arcade | Retro lovers, nostalgic aesthetic |
| **Seasonal** | 2 | Winter, autumn | Seasonal rotation, nature themes |

**Total:** 25+ professionally crafted presets ready to use!

---

## APPENDIX C: Smart Context Decision Tree

```
Do you have characters in your library?
  â”œâ”€ NO â†’ Create characters first OR generate background-only
  â””â”€ YES â†“

Are you including characters in this wallpaper?
  â”œâ”€ NO â†’ Smart Context OFF (faster), Standard mode fine
  â””â”€ YES â†“

Do you want characters to look realistically present in scene?
  â”œâ”€ NO â†’ Smart Context OFF (faster but less realistic)
  â””â”€ YES â†“

Do you have an extra 20-30 seconds?
  â”œâ”€ NO â†’ Quick iteration mode, Smart Context OFF
  â””â”€ YES â†“

ENABLE SMART CONTEXT ADAPTATION âœ“
```

---

## APPENDIX D: Troubleshooting Flowchart

```
Problem: Wallpaper looks bad
  â”œâ”€ Characters look pasted on?
  â”‚   â””â”€ Solution: Enable Smart Context Adaptation
  â”œâ”€ Wrong size/aspect ratio?
  â”‚   â””â”€ Solution: Check Section 3, select correct size
  â”œâ”€ Characters too small/large?
  â”‚   â””â”€ Solution: Adjust Character Size slider
  â”œâ”€ Lighting doesn't match?
  â”‚   â””â”€ Solution: Use "Match Background" lighting + Smart Context
  â”œâ”€ Chaotic/cluttered composition?
  â”‚   â””â”€ Solution: Reduce character count OR choose simpler background
  â””â”€ Colors don't match?
      â””â”€ Solution: Enable Smart Context (color grading) OR try different blending mode
```

---

**END OF WALLPAPER STUDIO COMPLETE GUIDE**

For questions, issues, or feedback about the wallpaper feature, please refer to the project documentation or submit an issue on the repository.

**Version**: 1.0  
**Document Type**: Comprehensive User Guide  
**Last Updated**: October 17, 2025  
**Companion Guide**: See STICKER_STUDIO_COMPLETE_GUIDE.md for sticker creation

---

*Created with precision and attention to detail for the AI Sticker Studio community.*

